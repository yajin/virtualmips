#summary How to build VirtualMIPS

----

You need to download VirtualMIPS first. The [http://virtualmips.googlecode.com/files/virtualmips-0.04.tar.bz2 latest version] is v0.04. 

Supported systems:
 * JZ [http://www.ingenic.cn/pfwebplus/productServ/kfyd/Hardware/pffaqQuestionContent.aspx?Category=2&Question=3 Pavo demo borad](without LCD controller).
 * ADM5120
 
= Library dependence =

Library dependence:
	* libelf
	* libconfuse
	* libSDL

 * Debian etch
{{{
sudo apt-get install libelf-dev
sudo apt-get install libconfuse-dev
sudo apt-get install  libsdl1.2debian
}}}

  * Archlinux
{{{
sudo pacman -S libelf
sudo pacman -S confuse
sudo pacman -S libsdl
}}}

You can build libconfuse by yourself. Download the source code of libconfuse from http://bzero.se/confuse/confuse-2.6.tar.gz.

{{{
tar zxvf confuse-2.6.tar.gz 
cd confuse-2.6
./configure
make 
sudo make install
}}}

= Build VirtualMIPS =

Build VirtualMIPS is very easy. Since version 0.04 VirtualMIPS uses [http://www.scons.org scons] to build the system instead of make. Install scons in your system first.

 * Debian etch
{{{
sudo apt-get install scons
}}}


{{{
tar -jxvf virtualmips-0.04.tar.bz2
cd virtualmips-0.04/build
}}}

Use scons-h to see the build options of VirtualMIPS. 
{{{
# scons -h

Usage:
        scons [target] [compile options]
Targets:
        adm5120:                Build VirtualMIPS for adm5120 emulation
        pavo:                   Build VirtualMIPS for pavo emulation
        mknandflash:            Build mknandflash tool for VirtualMIPS

Compile Options:
        debug:                  Set to 1 to compile with debug. Default 0.
        lcd:                    Set to 1 to compile VirtualMIPS with LCD support(pavo only). Default 0.

# scons pavo lcd=1   		<--build VirtualMIPS for pavo emulation *with* LCD support
# scons pavo lcd=0   		<--build VirtualMIPS for pavo emulation *without* LCD support
# scons adm5120      		<--build VirtualMIPS for adm5120 emulation.
# scons mknandflash  		<--build mknandflash tool.
# scons pavo -c      		<--clean the build of VirtualMIPS for pavo.
# scons adm5120 -c   		<--clean the build of VirtualMIPS for adm5120.
# scons mknandflash -c 	<--clean the build of mknandflash tool.
}}}

If everything goes well, file 'adm5120'/'pavo'/'mknandflash' will be created in virtualmips-0.04/build.


= Links =
 * [PavoEmulation How to run pavo emulation]
 * [ADM5120Emulation How to run adm5120 emulation]
 * [KernelForADM5120 Build linux kernel for ADM5120]
 * [gdbinterface how to use gdb to debug kernel]
 * [ubootForPavo  How to build u-boot for pavo borad]
 * [linuxkernelForPavo  How to build linux kernel for pavo borad]
 * [pavonetwork How to use network in pavo emulation]